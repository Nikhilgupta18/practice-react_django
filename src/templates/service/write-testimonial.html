{% extends "base.html" %}
{% load static %}
{% block content %}
        {% include "snippets/nav.html" %}

    <title>Publish a Testimonial | YMGrad Forums</title>
      <meta content="YMGrad, Write Testimonials, Study Abroad, MS in USA, Masters Abroad, Bachelors Abroad, TOEFL, IELTS, GRE, LSAT, MCAT, GMAT, Admits, Rejects, Profile Evaluation, University Shortlisting, SOP, Statement of Purpose, LOR, Letter of Recommendation, SOP Help, LOR Help, Application Help, Yash Mittra" name="keywords">
  <meta content="Liked our work? Publish a testimonial here and let the world know!" name="description">

    {% block meta %}
{#    <meta content="question law and fact, law question and answers ,business law question and answer ,criminal law question and answer ,hindu law question answer" name="keywords">#}
    {% endblock %}
    <style>


/****** Style Star Rating Widget *****/

.rating {
  border: none;
  float: left;
}

.rating > input { display: none; }
.rating > label:before {

  font-size: 1.25em;
  font-family: FontAwesome;

  content: "\f005";
}

.rating > .half:before {
  content: "\f089";
  position: absolute;
}

.rating > label {
  color: #ddd;
 float: right;
}

/***** CSS Magic to Highlight Stars on Hover *****/

.rating > input:checked ~ label, /* show gold star when clicked */
.rating:not(:checked) > label:hover, /* hover current star */
.rating:not(:checked) > label:hover ~ label { color: #FFD700;  } /* hover previous stars in list */

.rating > input:checked + label:hover, /* hover current star when changing rating */
.rating > input:checked ~ label:hover,
.rating > label:hover ~ input:checked ~ label, /* lighten current selection */
.rating > input:checked ~ label:hover ~ label { color: #FFD700;  }

.rating1 {
  border: none;
  float: left;
}

.rating1 > input { display: none; }
.rating1 > label:before {

  font-size: 1.25em;
  font-family: FontAwesome;

  content: "\f005";
}

.rating1 > .half:before {
  content: "\f089";
  position: absolute;
}

.rating1 > label {
  color: #ddd;
 float: right;
}

/***** CSS Magic to Highlight Stars on Hover *****/

.rating1 > input:checked ~ label, /* show gold star when clicked */
.rating1:not(:checked) > label:hover, /* hover current star */
.rating1:not(:checked) > label:hover ~ label { color: #FFD700;  } /* hover previous stars in list */

.rating1 > input:checked + label:hover, /* hover current star when changing rating */
.rating1 > input:checked ~ label:hover,
.rating1 > label:hover ~ input:checked ~ label, /* lighten current selection */
.rating1 > input:checked ~ label:hover ~ label { color: #FFD700;  }



    </style>
        <div style="margin-top:18%;" class="visible-xs"></div>
        <div style="margin-top:6%;" class="visible-sm visible-md visible-lg"></div>
        <div style="padding-top: 3%;" class="container">
        <div class="row">
            <div class="col-sm-12" style="text-align: center; margin-bottom: 20px; color: black;">
                <h2><b>Publish a Testimonial</b></h2>
            </div>
            <form method="post" action="{% url 'publish_testimonial' service_name=service.heading %}" enctype="multipart/form-data">
            {% csrf_token %}
                <div class="col-sm-8 col-sm-offset-2 col-xs-12" style="margin-bottom: 10px">


                                            <label for="rating" style="float: left;">Overall Rating</label>
                                                <br>
                                            <div>
                                                <fieldset class="rating">
                                                    <input type="radio" id="star5" name="rating" value="10" /><label class = "full" for="star5" title="10"></label>
                                                    <input type="radio" id="star4half" name="rating" value="9"  /><label class="half" for="star4half" title="9"></label>
                                                    <input type="radio" id="star4" name="rating" value="8"  /><label class = "full" for="star4" title="8"></label>
                                                    <input type="radio" id="star3half" name="rating" value="7"  /><label class="half" for="star3half" title="7"></label>
                                                    <input type="radio" id="star3" name="rating" value="6"  /><label class = "full" for="star3" title="6"></label>
                                                    <input type="radio" id="star2half" name="rating" value="5"  /><label class="half" for="star2half" title="5"></label>
                                                    <input type="radio" id="star2" name="rating" value="4"  /><label class = "full" for="star2" title="4"></label>
                                                    <input type="radio" id="star1half" name="rating" value="3"  /><label class="half" for="star1half" title="3"></label>
                                                    <input type="radio" id="star1" name="rating" value="2" /><label class = "full" for="star1" title="2"></label>
                                                    <input type="radio" id="starhalf" name="rating" value="1"  /><label class="half" for="starhalf" title="1"></label>
                                                </fieldset>
                                            </div>

                </div>
                <div class="col-sm-8 col-sm-offset-2 col-xs-12" style="margin-bottom: 10px">
                    <label for="headline" style="float: left;">Add a headline.</label>
                    <input type="text" class="form-control" name="headline" placeholder="What's most important to know?" maxlength="100" required>
                </div>


                     <div class="col-sm-8 col-sm-offset-2 col-xs-12" style="margin-bottom: 10px">
                         <label for="details" style="float: left;">Optionally Include an Image</label>
                        <br>
                             <div>
                                <input type='file' id="imgInp" name="imgInp" accept='image/*'/>

                                 <br>
                                 <center><img id="blah" src="#" style="text-align: center; max-height: 300px;" alt="" hidden/></center>
                            </div>
                        </div>
                <div class="col-sm-8 col-sm-offset-2 col-xs-12" style="margin-bottom: 10px">
                    <label for="details" style="float: left;">Write your testimonial.</label>
                    <textarea name="details" class="form-control" placeholder="Details" rows="10" required></textarea>
                </div>

                <div class="col-sm-8 col-sm-offset-2 col-xs-12" style="margin-bottom: 10px">
                    <label for="topic" style="float: left;">Select the service this is for.</label>
                    <select name="service" class="form-control" required>
                        {% for s in services %}
                            <option value="{{ s.heading }}" {% if s.heading == service.heading %}selected{% endif %}>{{ s.heading }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="col-sm-8 col-sm-offset-2 col-xs-12" style="margin-bottom: 10px">
                    <label for="is_anon" style="float: left;">Post as: &nbsp;&nbsp;</label>
                    <input type="radio" name="is_anon" value="false" checked/> {{ user.username }}&nbsp;&nbsp;
                    <input type="radio" name="is_anon" value="true" required /> Anonymous
                </div>

            <div class="clearfix"></div>
                <div class="col-sm-12">
                    <center><input type="submit" class="btn btn-primary btn-lg" style="margin-bottom: 10%;"></center>
                </div>
            </form>

        </div>
    </div>


    <script>
    function readURL(input) {
      if (input.files && input.files[0]) {
        var reader = new FileReader();

        reader.onload = function(e) {
          $('#blah').attr('src', e.target.result);
        }

        reader.readAsDataURL(input.files[0]);
        $('#blah').removeAttr('hidden');
      }
    }

    $("#imgInp").change(function() {
      readURL(this);
    });
    </script>

{% endblock content %}